@use "sass:map";
@use "../../scss/base/colors.scss";
@use "../../scss/components/input.scss";
@use "../../scss/base/shadows.scss" as *;
@use "../../scss/themes.scss" as *;
@use "../../scss/components/any.scss" as *;
@use "../../scss/functions.scss" as *;

.rc-field {
  @include rc-component;

  border-radius: input.$border-radius;
  position: relative;
  display: inline-flex;
  align-items: center;
  width: 200px;
  transition: input.$transition;
  background: input.$background;
  border-bottom-color: input.$border-bottom-color;
  border-right-color: input.$border-right-color;
  border-left-color: input.$border-left-color;
  border-top-color: input.$border-top-color;
  border-left-width: input.$border-left-width;
  border-right-width: input.$border-right-width;
  border-top-width: input.$border-top-width;
  border-bottom-width: input.$border-bottom-width;
  border-style: solid;

  &::before {
    position: absolute;
    height: calc(
      100% + #{input.$border-top-width} + #{input.$border-bottom-width}
    );
    width: calc(
      100% + #{input.$border-left-width} + #{input.$border-right-width}
    );
    left: input.$border-left-width;
    top: input.$border-top-width;
    content: "";
    box-shadow: $size;
    color: transparent;
    opacity: 0;
    transition: input.$transition;
    border-radius: input.$border-radius;
  }
}

.rc-field--focused {
  &::before {
    opacity: 1;
  }
}

@each $kind in $kinds {
  .rc-field--#{$kind} {
    border-bottom-color: map.get($theme-kinds, $kind);

    &.rc-field--focused {
      &::before {
        color: map.get($theme-kinds-shadows, $kind);
      }
    }
  }
}

@each $state in "invalid", "required" {
  .rc-field--#{$state} {
    border-bottom-color: map.get($theme-states, $state);

    &.rc-field--focused {
      &::before {
        color: map.get($theme-states-shadows, $state);
      }
    }
  }
}

.rc-field--disabled {
  opacity: input.$opacity--disabled;
  pointer-events: none;
  cursor: auto;
}

.rc-field--small {
  height: input.$size--small;
  padding-left: 10px;
  padding-right: 6px;
  font-size: inputfontsize(input.$size--small);
}

.rc-field--medium {
  height: input.$size--medium;
  padding-left: 13px;
  padding-right: 8px;
  font-size: inputfontsize(input.$size--medium);
}

.rc-field--large {
  height: input.$size--large;
  padding-left: 16px;
  padding-right: 10px;
  font-size: inputfontsize(input.$size--large);
}
